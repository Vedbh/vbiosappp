<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Realistic Business Demo</title>
<style>
body{margin:0;padding:0;font-family:Arial,sans-serif;background:#0e0f14;color:#eee;}
#sidebar{position:fixed;left:0;top:0;width:60px;height:100vh;background:#111;display:flex;flex-direction:column;align-items:center;padding:10px;}
#sidebar button{background:none;border:none;color:#888;font-size:24px;margin:15px 0;cursor:pointer;transition:0.3s;}
#sidebar button.active,#sidebar button:hover{color:#0af;}
#content{margin-left:60px;padding:10px;}
.section{display:none;}
.section.active{display:block;}
.card{background:#1a1b23;padding:15px;border-radius:10px;margin-bottom:15px;box-shadow:0 0 10px #0005;}
.card-title{font-weight:bold;color:#0af;margin-bottom:10px;font-size:14px;}
.card-value{font-size:20px;font-weight:bold;color:#0ff;}
.bar-container{display:flex;align-items:flex-end;height:150px;background:#111;margin-top:10px;border-radius:5px;padding:5px;}
.bar{flex:1;margin:0 2px;background:#0af;border-radius:3px;transition:0.8s ease height;}
.bar.red{background:#f33;}
table{width:100%;border-collapse:collapse;margin-top:10px;}
table th,table td{padding:5px;text-align:center;font-size:12px;}
table th{background:#222;}
table td{background:#1a1b23;color:#eee;border-bottom:1px solid #333;}
@media(max-width:768px){
  #sidebar{width:50px;}
  #content{margin-left:50px;padding:10px;}
  .card-value{font-size:16px;}
  .card-title{font-size:12px;}
}
</style>
</head>
<body>

<div id="sidebar">
  <button class="tabBtn active" data-target="dashboard">&#128200;</button>
  <button class="tabBtn" data-target="moneyflow">&#128176;</button>
  <button class="tabBtn" data-target="admin">&#128179;</button>
</div>

<div id="content">

<div id="dashboard" class="section active">
  <div class="card">
    <div class="card-title">Total Income</div>
    <div class="card-value" id="totalIncome">₹100000</div>
    <div class="bar-container" id="incomeBars"></div>
  </div>
  <div class="card">
    <div class="card-title">Total Loss</div>
    <div class="card-value" id="totalLoss">₹5000</div>
    <div class="bar-container" id="lossBars"></div>
  </div>
</div>

<div id="moneyflow" class="section">
  <div class="card">
    <div class="card-title">Money Flow</div>
    <table>
      <thead><tr><th>User</th><th>Investment</th><th>Profit/Loss</th></tr></thead>
      <tbody id="moneyTable"></tbody>
    </table>
  </div>
</div>

<div id="admin" class="section">
  <div class="card">
    <div class="card-title">Withdrawals</div>
    <table>
      <thead><tr><th>User</th><th>Amount</th><th>Date</th></tr></thead>
      <tbody id="withdrawTable"></tbody>
    </table>
  </div>
</div>

</div>

<script>
// ===== Sidebar =====
const tabs=document.querySelectorAll('.tabBtn');
const sections=document.querySelectorAll('.section');
tabs.forEach(btn=>btn.addEventListener('click',()=>{
  tabs.forEach(b=>b.classList.remove('active'));
  sections.forEach(s=>s.classList.remove('active'));
  btn.classList.add('active');
  document.getElementById(btn.dataset.target).classList.add('active');
}));

// ===== Fake Data =====
let totalIncome=100000,totalLoss=5000;
const incomeBars=document.getElementById('incomeBars');
const lossBars=document.getElementById('lossBars');
const totalIncomeEl=document.getElementById('totalIncome');
const totalLossEl=document.getElementById('totalLoss');
const moneyTable=document.getElementById('moneyTable');
const withdrawTable=document.getElementById('withdrawTable');

const users=[];
for(let i=1;i<=200;i++) users.push('User'+i);

function random(min,max){return Math.floor(Math.random()*(max-min+1)+min);}

// ===== Generate Graph Bars =====
function createBars(container,count,red=false){
  container.innerHTML='';
  for(let i=0;i<count;i++){
    const b=document.createElement('div');
    b.className='bar'+(red?' red':'');
    b.style.height=random(60,150)+'px';
    container.appendChild(b);
  }
}
createBars(incomeBars,30);
createBars(lossBars,30,true);

// ===== Generate Tables =====
function generateMoneyFlow(){
  moneyTable.innerHTML='';
  let sampleUsers=users.sort(()=>0.5-Math.random()).slice(0,100);
  sampleUsers.forEach(u=>{
    const invest=random(5000,20000);
    const profit=random(-5000,15000);
    const row=`<tr><td>${u}</td><td>₹${invest}</td><td>₹${profit}</td></tr>`;
    moneyTable.innerHTML+=row;
  });
}

function generateWithdrawals(){
  withdrawTable.innerHTML='';
  let sampleUsers=users.sort(()=>0.5-Math.random()).slice(0,50);
  sampleUsers.forEach(u=>{
    const amt=random(10000,50000);
    const date=new Date(Date.now()-random(0,5)*24*3600*1000).toLocaleDateString();
    const row=`<tr><td>${u}</td><td>₹${amt}</td><td>${date}</td></tr>`;
    withdrawTable.innerHTML+=row;
  });
}

// ===== Update Dashboard =====
function updateDashboard(){
  totalIncome+=random(-5000,10000);
  if(totalIncome<100000) totalIncome=100000;
  totalLoss+=random(-2000,5000);
  if(totalLoss<0) totalLoss=0;
  totalIncomeEl.textContent='₹'+totalIncome;
  totalLossEl.textContent='₹'+totalLoss;
  
  incomeBars.querySelectorAll('.bar').forEach(b=>b.style.height=random(60,150)+'px');
  lossBars.querySelectorAll('.bar').forEach(b=>b.style.height=random(20,80)+'px');

  generateMoneyFlow();
  generateWithdrawals();
}

// ===== Initial =====
generateMoneyFlow();
generateWithdrawals();
updateDashboard();

// ===== Real-time Update Every 5 Seconds =====
setInterval(updateDashboard,5000);

</script>
</body>
</html>
